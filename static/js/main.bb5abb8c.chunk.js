(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{13:function(e,t,n){e.exports=n(36)},18:function(e,t,n){},32:function(e,t,n){},34:function(e,t,n){},36:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),o=n(11),i=n.n(o),s=(n(18),n(2)),u=n(4),c=n(6),l=n(5),d=n(7),h=r.a.createContext(null),m=function(e){return function(t){return r.a.createElement(h.Consumer,null,function(n){return r.a.createElement(e,Object.assign({},t,{firebase:n}))})}},p=h,f=n(8),b=n.n(f),v=(n(26),n(28),{apiKey:"AIzaSyDGopbRh_22PrAqSooRnWGrmattLosCI-4",authDomain:"gulligull-1197a.firebaseapp.com",databaseURL:"https://gulligull-1197a.firebaseio.com",projectId:"gulligull-1197a",storageBucket:"gulligull-1197a.appspot.com",messagingSenderId:"876861514614"}),g=function e(){var t=this;Object(s.a)(this,e),this.doCreateUserWithEmailAndPassword=function(e,n){return t.auth.createUserWithEmailAndPassword(e,n)},this.doSignInWithEmailAndPassword=function(e,n){return t.auth.signInWithEmailAndPassword(e,n)},this.doSignOut=function(){return t.auth.signOut()},this.doPasswordReset=function(e){return t.auth.sendPasswordResetEmail(e)},this.doPasswordUpdate=function(e){return t.auth.currentUser.updatePassword(e)},this.doGetList=function(){return t.db.collection("todo").doc("list").get()},this.doSubscribe=function(e){return t.db.collection("todo").doc("list").onSnapshot(function(t){return e(t.data().list)})},this.doAddNewTodo=function(e){return t.db.collection("todo").doc("list").update({list:b.a.firestore.FieldValue.arrayUnion(e)})},this.doRemoveTodo=function(e){return t.db.collection("todo").doc("list").update({list:b.a.firestore.FieldValue.arrayRemove(e)})},this.onAuthUserListener=function(e,n){return t.auth.onAuthStateChanged(function(t){t?e(t):n()})},this.user=function(e){return t.db.ref("users/".concat(e))},this.users=function(){return t.db.ref("users")},this.messages=function(){return t.db.ref("messages")},b.a.initializeApp(v),this.db=b.a.firestore(),this.auth=b.a.auth()},E=(n(32),m(function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(c.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).state={todos:[],inputValue:""},n.handleNewTodo=function(e){e.preventDefault();var t=n.state.inputValue;t.length>0&&(n.setState({inputValue:""}),n.props.firebase.doAddNewTodo(t))},n.handleRemoveTodo=function(e){var t=n.state.todos;n.props.firebase.doRemoveTodo(t[e])},n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.firebase.doGetList().then(function(t){return e.setState({todos:t.data().list})}),this.props.firebase.doSubscribe(function(t){return e.setState({todos:t})})}},{key:"render",value:function(){var e=this,t=this.state,n=t.todos,a=t.inputValue;return r.a.createElement("div",{className:"list-container"},r.a.createElement("h1",null,"Saker Att G\xf6ra Medan Man Pussas"),r.a.createElement("form",{onSubmit:this.handleNewTodo},r.a.createElement("input",{type:"text",value:a,onChange:function(t){return e.setState({inputValue:t.target.value})}}),r.a.createElement("input",{type:"submit",value:"+"})),r.a.createElement("div",{className:"list"},r.a.createElement("ul",null,n.map(function(t,n){return r.a.createElement("li",{key:n},r.a.createElement("span",null,t),r.a.createElement("button",{onClick:function(){return e.handleRemoveTodo(n)}}))}))))}}]),t}(a.Component))),w=n(12),S=m(function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(c.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",password:""},n.handleSubmit=function(e){e.preventDefault(),n.props.firebase.doSignInWithEmailAndPassword(n.state.username,n.state.password)},n.handleInputChange=function(e){n.setState(Object(w.a)({},e.target.name,e.target.value))},n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("input",{type:"text",name:"username",onChange:this.handleInputChange}),r.a.createElement("input",{type:"password",name:"password",onChange:this.handleInputChange}),r.a.createElement("input",{type:"submit"})))}}]),t}(a.Component));function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var O=r.a.createElement("path",{fill:"currentColor",d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"}),j=function(e){return r.a.createElement("svg",y({"aria-hidden":"true","data-prefix":"fas","data-icon":"sign-out-alt",role:"img",viewBox:"0 0 512 512"},e),O)},A=(n.p,n(34),function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(c.a)(this,Object(l.a)(t).call(this))).state={authUser:JSON.parse(localStorage.getItem("authUser"))},e}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.listener=this.props.firebase.onAuthUserListener(function(t){localStorage.setItem("authUser",JSON.stringify(t)),e.setState({authUser:t})},function(){localStorage.removeItem("authUser"),e.setState({authUser:null})})}},{key:"componentWillUnmount",value:function(){this.listener()}},{key:"render",value:function(){var e=this.props.firebase;return r.a.createElement("div",{className:"App"},e.auth.currentUser?r.a.createElement(r.a.Fragment,null,r.a.createElement(C,{firebase:e}),r.a.createElement(E,null)):r.a.createElement(S,null))}}]),t}(a.Component)),C=function(e){var t=e.firebase;return r.a.createElement("header",null,r.a.createElement("button",{onClick:t.doSignOut},r.a.createElement(j,null)))},U=m(A);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(p.Provider,{value:new g},r.a.createElement(U,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[13,2,1]]]);
//# sourceMappingURL=main.bb5abb8c.chunk.js.map